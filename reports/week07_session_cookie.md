# ðŸ” ì„¸ì…˜ê³¼ ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ íë¦„: ìƒíƒœ ìœ ì§€ ì „ëžµê³¼ ë¡œê·¸ì¸ êµ¬ì¡° ì˜ˆì‹œ

---

## 1. ì¸ì¦ íë¦„ ê°œìš”

### ðŸ“Œ ê°œìš”
- ì›¹ì€ **ë¬´ìƒíƒœ(stateless)** í”„ë¡œí† ì½œ(HTTP)ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠìŒ
- ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ì™€ ì‚¬ìš©ìž ì‹ë³„ì„ ìœ„í•´ **ì„¸ì…˜(Session)** ë˜ëŠ” **ì¿ í‚¤(Cookie)** ê¸°ë°˜ ì¸ì¦ ì‚¬ìš©
- ì¸ì¦ í›„ì—ë„ ìƒíƒœë¥¼ ê¸°ì–µí•˜ê¸° ìœ„í•œ ì „ëžµ: **ì„¸ì…˜ ì €ìž¥**, **ì¿ í‚¤ ì „ë‹¬**, **í† í° ë°œê¸‰** ë“±

---

## 2. ìƒíƒœ ìœ ì§€ ì „ëžµ: Session vs Cookie

| í•­ëª© | ì„¸ì…˜(Session) | ì¿ í‚¤(Cookie) |
|------|----------------|---------------|
| ì €ìž¥ ìœ„ì¹˜ | ì„œë²„ (ë©”ëª¨ë¦¬/DB ë“±) | í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €) |
| ì¸ì¦ ì •ë³´ ë…¸ì¶œ | âŒ ì„œë²„ ì €ìž¥ìœ¼ë¡œ ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì „ | âš ï¸ í´ë¼ì´ì–¸íŠ¸ ì €ìž¥, ì£¼ì˜ í•„ìš” |
| ë§Œë£Œ ì œì–´ | ì„œë²„ ì„¤ì •ìœ¼ë¡œ ì œì–´ | í´ë¼ì´ì–¸íŠ¸ ë§Œë£Œì‹œê°„ ì„¤ì • |
| ìš©ëŸ‰ ì œí•œ | ì„œë²„ ì„±ëŠ¥ì— ë”°ë¼ ì œí•œ | ì•½ 4KB |
| ë¶€ì ì ˆí•œ ì ‘ê·¼ ì‹œ | ì„œë²„ì—ì„œ ì¦‰ì‹œ ë¬´íš¨í™” ê°€ëŠ¥ | íƒˆì·¨ ì‹œ ì œ3ìžê°€ ì‚¬ìš© ê°€ëŠ¥ |
| ìœ ì§€ ë°©ì‹ | ì„¸ì…˜IDë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬ (ë³´í†µ ì¿ í‚¤ë¡œ) | ì¿ í‚¤ ìžì²´ì— ì¸ì¦ ì •ë³´ ì €ìž¥ |
| ì‚¬ìš© ì˜ˆ | ì „í†µì ì¸ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ | ë‹¨ìˆœ ì‚¬ìš©ìž ì •ë³´ ì €ìž¥, ìžë™ ë¡œê·¸ì¸, JWT ì €ìž¥ ë“± |

---

## 3. ì¸ì¦ íë¦„ ìš”ì•½ êµ¬ì¡°

### âœ… ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ êµ¬ì¡°
```
[í´ë¼ì´ì–¸íŠ¸] â”€â”€ ë¡œê·¸ì¸ ìš”ì²­(ID/PW) â”€â”€â–¶ [ì„œë²„]
                             â””â”€ ì„¸ì…˜ ìƒì„±(SessionID)
[ì„œë²„] â”€â”€ Set-Cookie(SessionID) â”€â”€â–¶ [í´ë¼ì´ì–¸íŠ¸]
[í´ë¼ì´ì–¸íŠ¸] â”€â”€ ì¿ í‚¤(SessionID) í¬í•¨ ìš”ì²­ â”€â”€â–¶ [ì„œë²„]
                            â””â”€ ì„¸ì…˜ í™•ì¸ í›„ ì¸ì¦ ì²˜ë¦¬
```

### âœ… ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ êµ¬ì¡°
```
[í´ë¼ì´ì–¸íŠ¸] â”€â”€ ë¡œê·¸ì¸ ìš”ì²­(ID/PW) â”€â”€â–¶ [ì„œë²„]
                            â””â”€ ì¸ì¦ ì •ë³´(í† í° ë“±) ì¿ í‚¤ì— ì €ìž¥
[í´ë¼ì´ì–¸íŠ¸] â”€â”€ ì¿ í‚¤ í¬í•¨ ìš”ì²­ â”€â”€â–¶ [ì„œë²„]
                            â””â”€ ì¿ í‚¤ ë‚´ìš© ê²€ì¦ í›„ ì¸ì¦ ì²˜ë¦¬
```

---

## 4. ë¡œê·¸ì¸ êµ¬ì¡° ì ìš© ì˜ˆì‹œ

### ðŸ§© ì„¸ì…˜ ê¸°ë°˜ ì˜ˆì‹œ (Express.js + express-session)
```js
app.post("/login", (req, res) => {
  const { id, pw } = req.body;
  if (isValid(id, pw)) {
    req.session.user = { id }; // ì„œë²„ì— ì„¸ì…˜ ì €ìž¥
    res.send("ë¡œê·¸ì¸ ì„±ê³µ");
  } else {
    res.status(401).send("ì¸ì¦ ì‹¤íŒ¨");
  }
});
```

### ðŸ§© ì¿ í‚¤ ê¸°ë°˜ ì˜ˆì‹œ (JWT + ì¿ í‚¤ ì €ìž¥)
```js
app.post("/login", (req, res) => {
  const { id, pw } = req.body;
  if (isValid(id, pw)) {
    const token = jwt.sign({ id }, "SECRET_KEY", { expiresIn: "1h" });
    res.cookie("auth", token, { httpOnly: true });
    res.send("ë¡œê·¸ì¸ ì„±ê³µ");
  } else {
    res.status(401).send("ì¸ì¦ ì‹¤íŒ¨");
  }
});
```

---

## 5. ì „ëžµ ì„ íƒ ê¸°ì¤€

| ìƒí™© | ì í•©í•œ ë°©ì‹ |
|------|-------------|
| ë¹ ë¥¸ êµ¬ì¶•, ì„œë²„ ì¤‘ì‹¬ ì¸ì¦ ê´€ë¦¬ | ì„¸ì…˜ ê¸°ë°˜ |
| ë¶„ì‚° ì„œë²„, ë¬´ìƒíƒœ ì¸ì¦, ëª¨ë°”ì¼/SPA | ì¿ í‚¤ ê¸°ë°˜(JWT ë“±) |
| ì¸ì¦ ì™¸ ì •ë³´ ìœ ì§€ (ìµœê·¼ ë³¸ ìƒí’ˆ ë“±) | í´ë¼ì´ì–¸íŠ¸ ì¿ í‚¤ |
| ë³´ì•ˆ ë¯¼ê° ì •ë³´ ì²˜ë¦¬ | ì„¸ì…˜ ê¸°ë°˜ + HTTPS |

---

## ðŸ’¡ í•µì‹¬ ìš”ì•½

- **ì„¸ì…˜**: ì„œë²„ì— ìƒíƒœ ì €ìž¥, í´ë¼ì´ì–¸íŠ¸ëŠ” ì„¸ì…˜ IDë§Œ ì „ë‹¬. ë³´ì•ˆì— ìœ ë¦¬í•˜ê³  í†µì œ ìš©ì´
- **ì¿ í‚¤**: í´ë¼ì´ì–¸íŠ¸ì— ì¸ì¦ ì •ë³´ ì €ìž¥. ì„œë²„ ë¶€í•˜ ì¤„ì¼ ìˆ˜ ìžˆìœ¼ë‚˜ ìœ ì¶œ ìœ„í—˜ ê³ ë ¤ í•„ìš”
- **ì‹¤ì „ì—ì„œëŠ”** ë³´í†µ ì„¸ì…˜+ì¿ í‚¤ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ê±°ë‚˜ JWT ê¸°ë°˜ ì¿ í‚¤ ì €ìž¥ ë°©ì‹ìœ¼ë¡œ í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì„±

> âœ… ìš”ì•½: ìƒíƒœ ìœ ì§€ ì „ëžµì€ ëª©ì , ë³´ì•ˆ ìˆ˜ì¤€, ì‹œìŠ¤í…œ êµ¬ì¡°ì— ë”°ë¼ ì„ íƒ.  
SPAë‚˜ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” **JWT+ì¿ í‚¤**, ì„œë²„ ì¤‘ì‹¬ ì•±ì€ **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**ì´ ì¼ë°˜ì 

---

> ìž‘ì„±ìž: [ë°•ìž¬í›ˆ]  
> ë‚ ì§œ: 2025-07-27
